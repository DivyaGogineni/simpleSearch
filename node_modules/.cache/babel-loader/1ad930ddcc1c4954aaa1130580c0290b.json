{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saidi\\\\Desktop\\\\Spigot\\\\spigot-assigment\\\\react-order-management\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport OrderHeading from \"./OrderHeading\";\nimport OrderTiles from \"./OrderTiles\";\nimport PackageFilter from \"./PackageFilter\";\nimport DeadlineOrder from \"./DeadlineOrder\";\nimport Footer from \"./Footer\";\nimport \"./App.css\";\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.deadlineReorder = () => {\n      if (this.state.work_by_order === 1) {\n        this.setState({\n          work_by_order: 0\n        });\n        this.state.work_orders.orders.sort((a, b) => parseFloat(a.deadline) - parseFloat(b.deadline));\n      } else {\n        this.setState({\n          work_by_order: 1\n        });\n        this.state.work_orders.orders.sort((a, b) => parseFloat(b.deadline) - parseFloat(a.deadline));\n      }\n    };\n    this.updateSearch = event => {\n      console.log(event.target.value.substring(0, 30), \"this is my input\");\n      this.setState({\n        search: event.target.value\n      });\n      console.log(this.state.search, \"this is my search\");\n    };\n    this.state = {\n      work_orders: [],\n      worker: \"\",\n      work_by_order: 0,\n      search: \"\",\n      isFetching: true\n    };\n\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\n\n    fetch(\"/json/work_orders.json\").then(res => res.json()).then(data => {\n      let dataArray = [data];\n      dataArray[0].orders.sort((a, b) => parseFloat(a.deadline) - parseFloat(b.deadline));\n      this.setState({\n        work_orders: dataArray[0]\n      });\n    }).then(() => stateUpdate2());\n    let stateUpdate2 = () => {\n      fetch(\"/json/worker.json\").then(res => res.json()).then(data => this.setState({\n        worker: data,\n        isFetching: false\n      }));\n    };\n  }\n  render() {\n    console.log(this.state.work_orders.orders, \"These are my orders\");\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stickyFooterWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, this.state.isFetching ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loadingScreen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Loading...\")) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(OrderHeading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"controls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PackageFilter, {\n      onChange: this.updateSearch.bind(this),\n      value: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(DeadlineOrder, {\n      workByOrder: this.state.work_by_order,\n      onChange: () => this.deadlineReorder(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"ordersContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, this.state.work_orders.orders.map(orders => /*#__PURE__*/React.createElement(OrderTiles, {\n      key: orders.id,\n      \"data-workername\": this.state.worker[orders.workerId].worker.name,\n      orderId: orders.id,\n      workOrderName: orders.name,\n      workOrderDescription: orders.description,\n      workOrderAmount: orders.amount,\n      workOrderworkerId: orders.workerId,\n      employeeImage: this.state.worker[orders.workerId].worker.image,\n      employeeName: this.state.worker[orders.workerId].worker.name,\n      employeeCompanyName: this.state.worker[orders.workerId].worker.companyName,\n      employeeEmail: this.state.worker[orders.workerId].worker.email,\n      deadline: orders.deadline,\n      search: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\n// Render to index.html\n\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"names":["React","ReactDOM","OrderHeading","OrderTiles","PackageFilter","DeadlineOrder","Footer","App","Component","constructor","props","deadlineReorder","state","work_by_order","setState","work_orders","orders","sort","a","b","parseFloat","deadline","updateSearch","event","console","log","target","value","substring","search","worker","isFetching","fetch","then","res","json","data","dataArray","stateUpdate2","render","bind","map","id","workerId","name","description","amount","image","companyName","email","document","getElementById"],"sources":["C:/Users/saidi/Desktop/Spigot/spigot-assigment/react-order-management/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport OrderHeading from \"./OrderHeading\";\r\nimport OrderTiles from \"./OrderTiles\";\r\nimport PackageFilter from \"./PackageFilter\";\r\nimport DeadlineOrder from \"./DeadlineOrder\";\r\nimport Footer from \"./Footer\";\r\nimport \"./App.css\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      work_orders: [],\r\n      worker: \"\",\r\n      work_by_order: 0,\r\n      search: \"\",\r\n      isFetching: true,\r\n    };\r\n\r\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\r\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\r\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\r\n\r\n    fetch(\"/json/work_orders.json\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        let dataArray = [data];\r\n        dataArray[0].orders.sort(\r\n          (a, b) => parseFloat(a.deadline) - parseFloat(b.deadline)\r\n        );\r\n        this.setState({ work_orders: dataArray[0] });\r\n      })\r\n      .then(() => stateUpdate2());\r\n\r\n    let stateUpdate2 = () => {\r\n      fetch(\"/json/worker.json\")\r\n        .then((res) => res.json())\r\n        .then((data) => this.setState({ worker: data, isFetching: false }));\r\n    };\r\n  }\r\ndeadlineReorder = () => {\r\n    if (this.state.work_by_order === 1) {\r\n      this.setState({ work_by_order: 0 });\r\n      this.state.work_orders.orders.sort(\r\n        (a, b) => parseFloat(a.deadline) - parseFloat(b.deadline)\r\n      );\r\n    } else {\r\n      this.setState({ work_by_order: 1 });\r\n      this.state.work_orders.orders.sort(\r\n        (a, b) => parseFloat(b.deadline) - parseFloat(a.deadline)\r\n      );\r\n    }\r\n  };\r\n\r\n  // This is bound to the Package Filter form input field to update the state\r\n  updateSearch = (event) => {\r\n    console.log(event.target.value.substring(0, 30), \"this is my input\");\r\n    this.setState({ search: event.target.value });\r\n    console.log(this.state.search, \"this is my search\");\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.work_orders.orders, \"These are my orders\");\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"stickyFooterWrapper\">\r\n          {this.state.isFetching ? (\r\n            <div id=\"loadingScreen\">\r\n              <p>Loading...</p>\r\n            </div>\r\n          ) : (\r\n            <React.Fragment>\r\n              <OrderHeading />\r\n              <section id=\"controls\">\r\n                <PackageFilter\r\n                  onChange={this.updateSearch.bind(this)}\r\n                  value={this.state.search}\r\n                />\r\n                <DeadlineOrder\r\n                  workByOrder={this.state.work_by_order}\r\n                  onChange={() => this.deadlineReorder()}\r\n                />\r\n              </section>\r\n\r\n              <section id=\"ordersContainer\">\r\n                {this.state.work_orders.orders.map((orders) => (\r\n                  <OrderTiles\r\n                    key={orders.id}\r\n                    data-workername={\r\n                      this.state.worker[orders.workerId].worker.name\r\n                    }\r\n                    orderId={orders.id}\r\n                    workOrderName={orders.name}\r\n                    workOrderDescription={orders.description}\r\n                    workOrderAmount={orders.amount}\r\n                    workOrderworkerId={orders.workerId}\r\n                    employeeImage={\r\n                      this.state.worker[orders.workerId].worker.image\r\n                    }\r\n                    employeeName={\r\n                      this.state.worker[orders.workerId].worker.name\r\n                    }\r\n                    employeeCompanyName={\r\n                      this.state.worker[orders.workerId].worker.companyName\r\n                    }\r\n                    employeeEmail={\r\n                      this.state.worker[orders.workerId].worker.email\r\n                    }\r\n                    deadline={orders.deadline}\r\n                    search={this.state.search}\r\n                  />\r\n                ))}\r\n              </section>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// Render to index.html\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}