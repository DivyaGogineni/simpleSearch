{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saidi\\\\Desktop\\\\Spigot\\\\spigot-assigment\\\\react-order-management\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport OrderHeading from \"./OrderHeading\";\nimport OrderTiles from \"./OrderTiles\";\nimport PackageFilter from \"./PackageFilter\";\nimport Footer from \"./Footer\";\nimport \"./App.css\";\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateSearch = event => {\n      this.setState({\n        search: event.target.value\n      });\n      let result = this.state.work_orders.orders.filter(workOrder => {\n        if (workOrder.id === event.target.value) {\n          return workOrder;\n        }\n      });\n    };\n    this.resultSearch = event => {\n      let result = this.state.work_orders.orders.filter(workOrder => {\n        if (workOrder.id === event.target.value) {\n          return workOrder;\n        }\n      });\n      if (result) {\n        console.log(\"Inside the result\");\n        this.setState({\n          isSet: true\n        });\n      }\n      //  console.log( result,\"This is my result \")\n      //  console.log( result[0],\"This is my result name\")\n\n      // //console.log(this.state.work_orders.orders, \"work ordersds!!!!\");\n      //  console.log(this.state.filter_workOrder, \"Filter****************\");\n    };\n    this.state = {\n      work_orders: [],\n      filter_workOrder: [],\n      worker: \"\",\n      work_by_order: 0,\n      search: \"\",\n      isFetching: true,\n      isSet: false\n    };\n\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\n\n    fetch(\"/json/work_orders.json\").then(res => res.json()).then(data => {\n      let dataArray = [data];\n      dataArray[0].orders.sort((a, b) => a.deadline - b.deadline);\n      this.setState({\n        work_orders: dataArray[0]\n      });\n    }).then(() => stateUpdate2());\n    let stateUpdate2 = () => {\n      fetch(\"/json/worker.json\").then(res => res.json()).then(data => this.setState({\n        worker: data,\n        isFetching: false\n      }));\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stickyFooterWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, this.state.isFetching ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loadingScreen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, \"Loading...\")) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(OrderHeading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"controls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PackageFilter\n    //onClick={this.resultSearch.bind(this)}\n    , {\n      value: this.state.search,\n      onChange: this.updateSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: \"searchSubmit\",\n      onClick: this.updateSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"ordersContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, this.state.work_orders.orders.map(orders => /*#__PURE__*/React.createElement(OrderTiles, {\n      key: orders.id,\n      \"data-workername\": this.state.worker[orders.workerId].worker.name,\n      orderId: orders.id,\n      workOrderName: orders.name,\n      workOrderDescription: orders.description,\n      workOrderAmount: orders.amount,\n      workOrderworkerId: orders.workerId,\n      employeeImage: this.state.worker[orders.workerId].worker.image,\n      employeeName: this.state.worker[orders.workerId].worker.name,\n      employeecontact: this.state.worker[orders.workerId].worker.contact,\n      employeeEmail: this.state.worker[orders.workerId].worker.email,\n      deadline: orders.deadline,\n      search: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\n// Render to index.html\n\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"names":["React","ReactDOM","OrderHeading","OrderTiles","PackageFilter","Footer","App","Component","constructor","props","updateSearch","event","setState","search","target","value","result","state","work_orders","orders","filter","workOrder","id","resultSearch","console","log","isSet","filter_workOrder","worker","work_by_order","isFetching","fetch","then","res","json","data","dataArray","sort","a","b","deadline","stateUpdate2","render","bind","map","workerId","name","description","amount","image","contact","email","document","getElementById"],"sources":["C:/Users/saidi/Desktop/Spigot/spigot-assigment/react-order-management/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport OrderHeading from \"./OrderHeading\";\r\nimport OrderTiles from \"./OrderTiles\";\r\nimport PackageFilter from \"./PackageFilter\";\r\nimport Footer from \"./Footer\";\r\nimport \"./App.css\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      work_orders: [],\r\n      filter_workOrder:[],\r\n      worker: \"\",\r\n      work_by_order: 0,\r\n      search: \"\",\r\n      isFetching: true,\r\n      isSet:false\r\n    };\r\n\r\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\r\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\r\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\r\n\r\n    fetch(\"/json/work_orders.json\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        let dataArray = [data];\r\n        dataArray[0].orders.sort(\r\n          (a, b) => a.deadline - b.deadline\r\n        );\r\n        this.setState({ work_orders: dataArray[0] });\r\n      })\r\n      .then(() => stateUpdate2());\r\n\r\n    let stateUpdate2 = () => {\r\n      fetch(\"/json/worker.json\")\r\n        .then((res) => res.json())\r\n        .then((data) => this.setState({ worker: data, isFetching: false }));\r\n    };\r\n  }\r\n  updateSearch = (event) => {\r\n    this.setState({ search: event.target.value });\r\n    let result = this.state.work_orders.orders.filter((workOrder)=>{\r\n      if(workOrder.id ===event.target.value){\r\n        return workOrder\r\n      }\r\n    })\r\n    \r\n  };\r\n\r\n  resultSearch = (event) => {\r\n    let result = this.state.work_orders.orders.filter((workOrder)=>{\r\n      if(workOrder.id ===event.target.value){\r\n        return workOrder\r\n      }\r\n    })\r\n    if(result){\r\n      console.log(\"Inside the result\")\r\n      this.setState({isSet:true})\r\n    }\r\n    //  console.log( result,\"This is my result \")\r\n    //  console.log( result[0],\"This is my result name\")\r\n     \r\n    // //console.log(this.state.work_orders.orders, \"work ordersds!!!!\");\r\n   //  console.log(this.state.filter_workOrder, \"Filter****************\");\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"stickyFooterWrapper\">\r\n          {this.state.isFetching ? (\r\n            <div id=\"loadingScreen\">\r\n              <p>Loading...</p>\r\n            </div>\r\n          ) : (\r\n            <React.Fragment>\r\n              <OrderHeading />\r\n              <section id=\"controls\">\r\n                <PackageFilter\r\n                  //onClick={this.resultSearch.bind(this)}\r\n                  value={this.state.search}\r\n                  onChange={this.updateSearch.bind(this)}\r\n                />\r\n                <button type=\"submit\" id=\"searchSubmit\"  onClick={this.updateSearch.bind(this)}>Submit</button>\r\n              </section>\r\n              <section id=\"ordersContainer\">\r\n                {this.state.work_orders.orders.map((orders) => (\r\n                  <OrderTiles\r\n                    key={orders.id}\r\n                    data-workername={\r\n                      this.state.worker[orders.workerId].worker.name\r\n                    }\r\n                    orderId={orders.id}\r\n                    workOrderName={orders.name}\r\n                    workOrderDescription={orders.description}\r\n                    workOrderAmount={orders.amount}\r\n                    workOrderworkerId={orders.workerId}\r\n                    employeeImage={\r\n                      this.state.worker[orders.workerId].worker.image\r\n                    }\r\n                    employeeName={\r\n                      this.state.worker[orders.workerId].worker.name\r\n                    }\r\n                    employeecontact={\r\n                      this.state.worker[orders.workerId].worker.contact\r\n                    }\r\n                    employeeEmail={\r\n                      this.state.worker[orders.workerId].worker.email\r\n                    }\r\n                    deadline={orders.deadline}\r\n                    search={this.state.search}\r\n                  />\r\n                ))}\r\n              </section> \r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// Render to index.html\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}