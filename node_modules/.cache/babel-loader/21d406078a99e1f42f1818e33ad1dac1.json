{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saidi\\\\Desktop\\\\Spigot\\\\spigot-assigment\\\\react-order-management\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport OrderHeading from \"./OrderHeading\";\nimport OrderTiles from \"./OrderTiles\";\nimport PackageFilter from \"./PackageFilter\";\nimport Footer from \"./Footer\";\nimport \"./App.css\";\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateSearch = event => {\n      console.log(event.target.value.substring(0, 30), \"this is my input\");\n      this.setState({\n        search: event.target.value\n      });\n      if (this.state.search === event.target.value) {\n        this.setState({\n          showDetail: true\n        });\n      }\n      console.log(this.state.search, \"this is my search\");\n      console.log(this.state.work_orders, \"***********this is my search\");\n    };\n    this.state = {\n      work_orders: [],\n      worker: \"\",\n      work_by_order: 0,\n      search: \"\",\n      isFetching: true,\n      showDetail: false\n    };\n\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\n\n    fetch(\"/json/work_orders.json\").then(res => res.json()).then(data => {\n      let dataArray = [data];\n      dataArray[0].orders.sort((a, b) => a.deadline - b.deadline);\n      this.setState({\n        work_orders: dataArray[0],\n        showDetail: false\n      });\n    }).then(() => stateUpdate2());\n    let stateUpdate2 = () => {\n      fetch(\"/json/worker.json\").then(res => res.json()).then(data => this.setState({\n        worker: data,\n        isFetching: false\n      }));\n    };\n  }\n  render() {\n    console.log(this.state.work_orders.orders, \"These are my orders\");\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stickyFooterWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, this.state.isFetching ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loadingScreen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"Loading...\")) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(OrderHeading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"controls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PackageFilter, {\n      onChange: this.updateSearch.bind(this),\n      value: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, this.state.showDetail ? /*#__PURE__*/React.createElement(\"section\", {\n      id: \"ordersContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }, this.state.work_orders.orders.map(orders => /*#__PURE__*/React.createElement(OrderTiles, {\n      key: orders.id,\n      \"data-workername\": this.state.worker[orders.workerId].worker.name,\n      orderId: orders.id,\n      workOrderName: orders.name,\n      workOrderDescription: orders.description,\n      workOrderAmount: orders.amount,\n      workOrderworkerId: orders.workerId,\n      employeeImage: this.state.worker[orders.workerId].worker.image,\n      employeeName: this.state.worker[orders.workerId].worker.name,\n      employeecontact: this.state.worker[orders.workerId].worker.contact,\n      employeeEmail: this.state.worker[orders.workerId].worker.email,\n      deadline: orders.deadline,\n      search: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"initailPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"names":["React","ReactDOM","OrderHeading","OrderTiles","PackageFilter","Footer","App","Component","constructor","props","updateSearch","event","console","log","target","value","substring","setState","search","state","showDetail","work_orders","worker","work_by_order","isFetching","fetch","then","res","json","data","dataArray","orders","sort","a","b","deadline","stateUpdate2","render","bind","map","id","workerId","name","description","amount","image","contact","email","document","getElementById"],"sources":["C:/Users/saidi/Desktop/Spigot/spigot-assigment/react-order-management/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport OrderHeading from \"./OrderHeading\";\r\nimport OrderTiles from \"./OrderTiles\";\r\nimport PackageFilter from \"./PackageFilter\";\r\nimport Footer from \"./Footer\";\r\nimport \"./App.css\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      work_orders: [],\r\n      worker: \"\",\r\n      work_by_order: 0,\r\n      search: \"\",\r\n      isFetching: true,\r\n      showDetail: false\r\n    };\r\n\r\n    // Start of state being called from json files using fetch to simulate if I did not have files on hand.\r\n    // fetch requests made here for all the data needed for the page, a loading screen will be shown until all the data loading has been dealt with sequentially thanks to promises\r\n    // isFetching is lastely changed so that page is all loaded so there won't be any errors with state not being loaded yet.\r\n\r\n    fetch(\"/json/work_orders.json\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        let dataArray = [data];\r\n        dataArray[0].orders.sort(\r\n          (a, b) => a.deadline - b.deadline\r\n        );\r\n        this.setState({ work_orders: dataArray[0] , showDetail:false});\r\n      })\r\n      .then(() => stateUpdate2());\r\n\r\n    let stateUpdate2 = () => {\r\n      fetch(\"/json/worker.json\")\r\n        .then((res) => res.json())\r\n        .then((data) => this.setState({ worker: data, isFetching: false }));\r\n    };\r\n  }\r\n  updateSearch = (event) => {\r\n    console.log(event.target.value.substring(0, 30), \"this is my input\");    \r\n    this.setState({ search: event.target.value });\r\n    if(this.state.search === event.target.value){\r\n      this.setState({ showDetail: true });\r\n    }\r\n    console.log(this.state.search, \"this is my search\");\r\n    console.log(this.state.work_orders, \"***********this is my search\");\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.work_orders.orders, \"These are my orders\");\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"stickyFooterWrapper\">\r\n          {this.state.isFetching ? (\r\n            <div id=\"loadingScreen\">\r\n              <p>Loading...</p>\r\n            </div>\r\n          ) : (\r\n            <React.Fragment>\r\n              <OrderHeading />\r\n              <section id=\"controls\">\r\n              <PackageFilter\r\n                  onChange={this.updateSearch.bind(this)}\r\n                  value={this.state.search}\r\n                /> \r\n              </section>\r\n              <div>\r\n                {this.state.showDetail? (\r\n                  <section id=\"ordersContainer\">\r\n                    {this.state.work_orders.orders.map((orders) => (\r\n                      <OrderTiles\r\n                        key={orders.id}\r\n                        data-workername={\r\n                          this.state.worker[orders.workerId].worker.name\r\n                        }\r\n                        orderId={orders.id}\r\n                        workOrderName={orders.name}\r\n                        workOrderDescription={orders.description}\r\n                        workOrderAmount={orders.amount}\r\n                        workOrderworkerId={orders.workerId}\r\n                        employeeImage={\r\n                          this.state.worker[orders.workerId].worker.image\r\n                        }\r\n                        employeeName={\r\n                          this.state.worker[orders.workerId].worker.name\r\n                        }\r\n                        employeecontact={\r\n                          this.state.worker[orders.workerId].worker.contact\r\n                        }\r\n                        employeeEmail={\r\n                          this.state.worker[orders.workerId].worker.email\r\n                        }\r\n                        deadline={orders.deadline}\r\n                        search={this.state.search}\r\n                      />\r\n                    ))}\r\n                  </section>               \r\n                  ):(\r\n                  <div id=\"initailPage\">\r\n                        {/* <p>Search for your order above to get the details......</p> */}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}